<!--
 FileName:      serial_communication
 Author:        8ucchiman
 CreatedDate:   2023-05-15 14:21:37
 LastModified:  2023-01-25 10:56:12 +0900
 Reference:     8ucchiman.jp
 Description:   https://tonkun-tech.com/serial-uart-csi-i2c/
                https://emb.macnica.co.jp/articles/8191/
-->

# 通信
- シリアル通信 ... 1つのデータ伝送路を使い、１ビットずつデータを送信する方式
   - SPI
   - I2C
   - UART
- パラレル通信 ... 複数の伝送路を使い、１度に複数のデータを送信する方式

# SPI
`デバイス同士を接続するのに利用する同期式シリアル通信`
## 信号線
- SIMO(Slave In Master Out) ... マスターモード時はデータ出力ピンになり、スレーブモード時はデータ入力ピンになる
- SOMI(Slave Out Master In) ... マスターモード時はデータ入力ピンになり、スレーブモード時はデータ出力ピンになる
- SCLK(Serial Clock)        ... マスターモード時はクロック出力ピンになり、スレーブモード時はクロック入力ピンになる
- SS(Slave Select)          ... Lowアクティブの信号になり、マスターは複数あるスレーブ機器の中で、通信したいスレーブ機器のSS端子をLowに制御し通信を行う。スレーブ機器が一つしか接続されていない場合には、スレーブ側のSS端子をLow固定にすることで、配線を省くことが可能。

```
   +------------------+           +---------------------------+
   | SPI         SCLK |--------+->| SCLK            SPI       |
   | Master           |        |  |                 Slave     |
   |             SIMO |------+-|->| SIMO                      |
   |                  |      | |  |                           |
   |             SOMI |<---+-|-|--| SOMI                      |
   |                  |    | | |  |                           |
   |              SS1 |----|-|-|->| SS                        |
   |                  |    | | |  +---------------------------+
   |              SS2 |--+ | | |
   +------------------+  | | | |  +---------------------------+
                         | | | +->| SCLK            SPI       |
                         | | |    |                 Slave     |
                         | | +--->| SIMO                      |
                         | |      |                           |
                         | +------| SOMI                      |
                         |        |                           |
                         +------->| SS                        |
                                  +---------------------------+
```


# UART
`非同期式`

UARTの端子には、送信用のTXと受信用のRXがある。
両デバイスから同時に送信ができる(全二重通信)。

```
     deviceA            deviceA
    +--------+         +--------+
    |        |         |        |
    |      TX|---------|RX      |
    |        |         |        |
    |      RX|---------|TX      |
    |        |         |        |
    +--------+         +--------+

```

## 通信方式


```
High --------+      +----------------------------------------------
             |      |      |      |      |      |      |      |      |      |
             | STT  | bit0   bit1   bit2   bit3   bit4   bit5   bit6   bit7   PBIT  STP
             +-----+


```
